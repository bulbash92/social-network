{"version":3,"sources":["reportWebVitals.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","Redux/dialogs-reducer.ts","components/Dialogs/Message/Message.tsx","components/Dialogs/Message/AddMessageForm.tsx","components/Dialogs/Dialogs.tsx","components/hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","api/api.ts","Redux/usersReducer.ts","assects/images/user.png","components/Users/Users.tsx","assects/images/spinner.gif","components/preloader/preloader.tsx","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileIfo.tsx","Redux/profile-reducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/PostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","Redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/LoginForm.tsx","components/Login/Login.tsx","App.tsx","Redux/sidebar-reducer.tsx","Redux/redux-store.ts","index.tsx","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","components/Profile/profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Header/Header.module.css","components/Users/users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","DialogItem","props","path","id","className","s","dialogsItem","active","src","to","name","Navbar","nav","navList","item","activeClassName","friends","friendsItems","friendsItem","v1","News","Music","Settings","initialState","dialogs","messages","message","dialogsReducer","state","action","type","body","newText","Message","AddMessageForm","formik","useFormik","initialValues","onSubmit","values","console","log","resetForm","handleSubmit","FormGroup","TextField","placeholder","label","multiline","getFieldProps","Button","variant","color","Dialogs","messagesElements","dialogsPage","map","m","dialogsElements","d","dialogsItems","value","addMessage","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","connect","restProps","compose","messageText","instance","axios","create","baseURL","withCredentials","headers","usersApi","currentPage","pageSize","get","response","data","post","delete","userId","status","put","authApi","users","totalUsersCount","isFetching","followed","followingInProgress","followedToggle","userID","toggleIsFetching","toggleFollowingProgress","usersReducer","u","filter","Users","pagesCount","Math","ceil","pages","i","length","push","p","styles","selectedPage","onClick","onPageChanged","photos","small","userPhoto","photo","disabled","some","unfollow","follow","Preloader","loader","UsersContainer","pageNumber","getUsers","this","usersPage","setCurrentPage","dispatch","a","items","totalCount","resultCode","ProfileStatus","onChange","updateStatus","statusP","useSelector","profilePage","newStatusText","ownerId","profileId","profile","isOwner","useEffect","setTitle","useState","title","editMode","setEditMode","e","currentTarget","autoFocus","onBlur","editableSpan","onDoubleClick","ProfileIfo","setStatus","descriptionBlock","fullName","large","alt","newTextStatus","lookingForAJob","href","contacts","github","lookingForAJobDescription","posts","likesCount","setUserProfile","statusText","getUserStatus","res","profileReducer","newPost","newPostText","Post","like","PostForm","addPost","style","width","marginBottom","MyPosts","postsElements","postsBlock","MyPostsContainer","postText","Profile","ProfileContainer","match","params","toString","getUserProfile","getState","withRouter","Header","onLogout","login","header","wrapper","loginBlock","email","isInitialised","isLoggedIn","setAuthUserData","getAuthUserData","HeaderContainer","useDispatch","LoginForm","password","rememberMe","validate","errors","test","initialized","marginLeft","Grid","container","justifyContent","FormControl","FormLabel","target","margin","touched","FormControlLabel","control","Checkbox","Login","App","render","DialogsContainer","component","sidebarReducer","rootReducer","combineReducers","sidebar","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.cbf0ab6e.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport s from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport state from \"../../../Redux/store\";\r\nimport {v1} from \"uuid\";\r\n\r\n\r\nexport type DialogItemPropsType = {\r\n    name: string\r\n    id: string\r\n}\r\n\r\nfunction DialogItem(props: DialogItemPropsType) {\r\n    let path = '/dialogs/' + props.id;\r\n    return <div className={s.dialogsItem + ' ' + s.active}>\r\n        <img src='https://klike.net/uploads/posts/2019-03/1551511825_12.jpg'/>\r\n        <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nexport default DialogItem","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport s from './Navbar.module.css'\r\nimport DialogItem from \"../Dialogs/DialogItem/DialogItem\";\r\nimport {v1} from \"uuid\";\r\nimport {SidebarType} from \"../../Redux/store\";\r\n\r\ntype NavbarType = {\r\n    sidebar: SidebarType\r\n}\r\n\r\nfunction Navbar() {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <ul className={s.navList}>\r\n                <li className={s.item}>\r\n                    <NavLink to='/profile' className={s.item} activeClassName={s.active}>Profile</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/dialogs' className={s.item} activeClassName={s.active}>Message</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/users' className={s.item} activeClassName={s.active}>Users</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/news' className={s.item} activeClassName={s.active}>News</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/music' className={s.item} activeClassName={s.active}>Music</NavLink>\r\n                </li>\r\n                <li className={s.item}>\r\n                    <NavLink to='/settings' className={s.item} activeClassName={s.active}>Settings</NavLink>\r\n                </li>\r\n            </ul>\r\n            <div className={s.friends}>\r\n            <h3>Friends</h3>\r\n            <div className={s.friendsItems}>\r\n                <div className={s.friendsItem}><DialogItem name={'ALex'} id={v1()}/></div>\r\n                <div className={s.friendsItem}><DialogItem name={'ALex'} id={v1()}/></div>\r\n                <div className={s.friendsItem}><DialogItem name={'ALex'} id={v1()}/></div>\r\n            </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport s from './News.module.css'\r\nfunction News() {\r\n    return (\r\n        <div>\r\n            news\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport s from './Music.module.css'\r\n\r\nfunction Music() {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import {v1} from \"uuid\";\r\n\r\nexport type DialogPageType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n    newMessageText: string\r\n}\r\nexport type MessageType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\nexport type DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {name: 'Dimych', id: v1()},\r\n        {name: 'Sergey', id: v1()},\r\n        {name: 'Victoria', id: v1()},\r\n        {name: 'Robert', id: v1()},\r\n        {name: 'Evgeniy', id: v1()}\r\n    ] as Array<DialogType>,\r\n    messages: [\r\n        {message: 'Hi', id: v1()},\r\n        {message: 'How are you', id: v1()},\r\n        {message: 'Yo', id: v1()}\r\n    ] as Array<MessageType>,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\nconst dialogsReducer = (state: InitialStateType = initialState, action: DialogsActionsType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'ADD-MESSAGE': {\r\n            let body = action.newText\r\n            return {...state,\r\n                messages: [...state.messages, {id: v1(), message: body}],}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n\r\n    return state\r\n}\r\n\r\nexport type DialogsActionsType = ReturnType<typeof addMessage>\r\n\r\nexport const addMessage = (messageText: string) => {\r\n    return {\r\n        type: 'ADD-MESSAGE',\r\n        newText: messageText\r\n\r\n    } as const\r\n}\r\n\r\n\r\nexport default dialogsReducer","import s from \"../Dialogs.module.css\";\r\nimport React, {ChangeEvent} from \"react\";\r\n\r\n\r\nexport type MessagePropsType = {\r\n    message: string\r\n    id: string\r\n}\r\n\r\nfunction Message(props: MessagePropsType) {\r\n\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from \"@mui/material/Button\";\r\nimport {useFormik} from \"formik\";\r\n\r\ntype PropsType = {\r\n    onSubmit: (values: any) => void\r\n}\r\n\r\nconst AddMessageForm = (props: PropsType) => {\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            message: '',\r\n        },\r\n        onSubmit: values => {\r\n            console.log('values', values)\r\n            props.onSubmit(values.message)\r\n            formik.resetForm()\r\n        }\r\n    })\r\n    return (\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <FormGroup>\r\n                <TextField\r\n                    id=\"outlined-textarea\"\r\n                    placeholder=\"Enter message\"\r\n                    label='message'\r\n                    multiline\r\n                    {...formik.getFieldProps('message')}\r\n                />\r\n                <Button type={'submit'} variant={'contained'} color={'primary'}>\r\n                    Send\r\n                </Button>\r\n            </FormGroup>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default AddMessageForm;","import React from \"react\";\r\nimport s from './Dialogs.module.css'\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {DialogPageType} from \"../../Redux/dialogs-reducer\";\r\nimport AddMessageForm from \"./Message/AddMessageForm\";\r\n\r\n\r\ntype DialogsType = {\r\n    dialogsPage: DialogPageType\r\n    isAuth: boolean\r\n    addMessage: (text: string) => void\r\n}\r\n\r\nfunction Dialogs(props: DialogsType) {\r\n\r\n    const messagesElements = props.dialogsPage.messages.map(m => <Message key={m.id} message={m.message} id={m.id}/>)\r\n    const dialogsElements = props.dialogsPage.dialogs.map(d => <DialogItem key={d.id} name={d.name} id={d.id}/>)\r\n\r\n    // const newMessageElement = React.createRef<HTMLTextAreaElement>()\r\n\r\n    // const OnSendMessageCLick = () => {\r\n    //     if (newMessageElement.current) {\r\n    //         props.addMessage(newMessageElement.current.value)\r\n    //     }\r\n    // }\r\n    // const onMessageChange = () => {\r\n    //     if (newMessageElement.current) {\r\n    //         props.updateNewMessageText(newMessageElement.current.value)\r\n    //     }\r\n    // }\r\n\r\n    const addNewMessage = (value: string) => {\r\n        props.addMessage(value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogsItems}>\r\n                    {dialogsElements}\r\n                </div>\r\n                <div className={s.messages}>\r\n                    {messagesElements}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <AddMessageForm onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React, {ComponentType} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\ntype MapStateToPropsForRedirectType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType): MapStateToPropsForRedirectType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect <T>(Component: ComponentType<T>)  {\r\n    function RedirectComponent(props: MapStateToPropsForRedirectType) {\r\n        let {isAuth, ...restProps} = props\r\n        if (!props.isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n};\r\n","import {addMessage, InitialStateType} from \"../../Redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {ComponentType} from \"react\";\r\n\r\ntype mapStateToPropsType = {\r\n    dialogsPage: InitialStateType\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\nexport default compose<ComponentType>(connect(mapStateToProps, {addMessage}),\r\n    withAuthRedirect\r\n)(Dialogs);","import axios, {AxiosResponse} from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'ef800069-c5f3-467c-9f0b-02d4de59b8ee'\r\n    }\r\n\r\n})\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n    follow(id: number) {\r\n        return instance.post(`follow/${id}`, {},)\r\n            .then(response => response.data)\r\n    },\r\n    unfollow(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => response.data)\r\n    },\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getProfileStatus(userId: string) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put('profile/status', {status})\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => response.data)\r\n    },\r\n    login(data: LoginParamsType) {\r\n        return instance.post('auth/login', data)\r\n    },\r\n    logout() {\r\n        return instance.delete('/auth/login', {})\r\n    }\r\n}\r\n\r\nexport type LoginParamsType = {\r\n    email: string\r\n    password: string\r\n    rememberMe?: boolean\r\n    captcha?: boolean\r\n}\r\n\r\ntype ResponseType<D = {}> = {\r\n    resultCode: number\r\n    messages: Array<string>\r\n    data: D\r\n}\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n}\r\n","import {usersApi} from \"../api/api\";\r\nimport {ThunkAction} from \"redux-thunk/es/types\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\ntype UserLocationType = {\r\n    city: string\r\n    country: string\r\n}\r\n\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\n\r\nexport type UserType = {\r\n    id: number\r\n    name: string\r\n    followed: boolean\r\n    status: string\r\n    location: UserLocationType\r\n    photos: PhotosType\r\n}\r\n\r\n// export type UsersPageType = {\r\n//     users: Array<UserType>\r\n//     pageSize: number\r\n//     totalUsersCount: number\r\n//     currentPage: number\r\n//     isFetching: boolean\r\n// }\r\n\r\n// export type InitialStateType = {\r\n//     users: Array<UserType>\r\n//     pageSize: number\r\n//     totalUsersCount: number,\r\n//     currentPage: number\r\n//     isFetching: boolean\r\n//     followed: boolean\r\n//     followingInProgress: Array<number>\r\n// }\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followed: false,\r\n    followingInProgress: [] as Array<number>,\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\nconst usersReducer = (state: InitialStateType = initialState, action: UsersACType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'FOLLOW_TOGGLE':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => u.id === action.userID ? {...u, followed: !u.followed} : u)\r\n            }\r\n        case 'SET_USER':\r\n            return {...state, users: [...action.users]}\r\n        case 'SET-CURRENT-PAGE':\r\n            return {...state, currentPage: action.currentPage}\r\n        case 'SET-TOTAL-USERS-COUNT':\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        case 'TOGGLE-IS-FETCHING':\r\n            return {...state, isFetching: action.isFetching}\r\n        case \"TOGGLE-IS-FOLLOWING-PROGRESS\":\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type UsersACType = ReturnType<typeof followedToggle>\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleFollowingProgress>\r\n\r\n\r\nexport const followedToggle = (userID: number) => {\r\n    return {\r\n        type: 'FOLLOW_TOGGLE',\r\n        userID: userID\r\n    } as const\r\n}\r\n\r\nexport const setUsers = (users: Array<UserType>) => {\r\n    return {\r\n        type: 'SET_USER',\r\n        users: users\r\n    } as const\r\n}\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: 'SET-CURRENT-PAGE',\r\n        currentPage,\r\n\r\n    } as const\r\n}\r\n\r\nexport const setTotalUsersCount = (totalUsersCount: number) => {\r\n    return {\r\n        type: 'SET-TOTAL-USERS-COUNT',\r\n        totalUsersCount,\r\n\r\n    } as const\r\n}\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => {\r\n    return {\r\n        type: 'TOGGLE-IS-FETCHING',\r\n        isFetching\r\n    } as const\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => {\r\n    return {\r\n        type: 'TOGGLE-IS-FOLLOWING-PROGRESS',\r\n        isFetching,\r\n        userId,\r\n    } as const\r\n}\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number): ThunkAction<Promise<void>, AppStateType, unknown, UsersACType> => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        usersApi.getUsers(currentPage, pageSize)\r\n            .then(data => {\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items))\r\n                dispatch(setTotalUsersCount(data.totalCount));\r\n            })\r\n    }\r\n}\r\n\r\nexport const follow = (userId: number): ThunkAction<Promise<void>, AppStateType, unknown, UsersACType> => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        usersApi.follow(userId)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(followedToggle(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n\r\n            })\r\n    }\r\n}\r\nexport const unfollow = (userId: number): ThunkAction<Promise<void>, AppStateType, unknown, UsersACType> => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        usersApi.unfollow(userId)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(followedToggle(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer","export default __webpack_public_path__ + \"static/media/user.20799d4f.png\";","import React from \"react\";\r\nimport styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assects/images/user.png\";\r\nimport {UserType} from \"../../Redux/usersReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UsersPropsType = {\r\n    users: Array<UserType>\r\n    //followedToggle: (userID: number) => void\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    // toggleFollowingProgress: (isFethcing: boolean, userId: number) => void\r\n    followingInProgress: Array<number>\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nexport const Users = (props: UsersPropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        if (pages.length <= 50) {\r\n            pages.push(i)\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div>\r\n            <div>\r\n                {pages.map((p, i) => {\r\n                    return <span key={i} className={props.currentPage === p ? styles.selectedPage : ''}\r\n                                 onClick={() => {\r\n                                     props.onPageChanged(p)\r\n                                 }}\r\n                    >{p}</span>\r\n                })}\r\n            </div>\r\n            {\r\n                props.users.map(u => <div key={u.id}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/Profile/' + u.id}>\r\n                                <img\r\n                                    src={u.photos.small != null\r\n                                        ? u.photos.small\r\n                                        : userPhoto}\r\n                                    className={styles.photo}\r\n                                />\r\n                            </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {u.followed ?\r\n                                <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                        onClick={() => {\r\n                                            props.unfollow(u.id)\r\n                                        }}>\r\n                                    Unfollow</button>\r\n                                : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                          onClick={() => {\r\n                                              props.follow(u.id)\r\n                                          }}>Follow</button>}\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </div>)\r\n\r\n            }\r\n        </div>\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/spinner.d3fbaf2b.gif\";","import loader from \"../../assects/images/spinner.gif\";\r\nimport React from \"react\";\r\n\r\n//\r\n// type PreloaderType = {\r\n//     isFetching: boolean\r\n// }\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <img src={loader}/>\r\n    )\r\n}","import {connect} from \"react-redux\";\r\nimport usersReducer, {\r\n    follow,\r\n    getUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress, unfollow,\r\n    UserType\r\n} from \"../../Redux/usersReducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport React, {Component, ComponentType} from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../preloader/preloader\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype UsersContainerType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    setCurrentPage: (currentPage: number) => void\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n}\r\n\r\nclass UsersContainer extends Component<UsersContainerType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        let pagesCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize)\r\n        let pages = []\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            if (pages.length <= 50) {\r\n                pages.push(i)\r\n            }\r\n        }\r\n\r\n        return <div>\r\n            {this.props.isFetching ?\r\n                <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                currentPage={this.props.currentPage}\r\n                pageSize={this.props.pageSize}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                followingInProgress={this.props.followingInProgress}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n\r\n            />\r\n        </div>\r\n    }\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n}\r\n\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {setCurrentPage, toggleFollowingProgress, getUsers, follow, unfollow,}),\r\n    withAuthRedirect\r\n)(UsersContainer)","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport s from './ProfileInfo.module.css'\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/redux-store\";\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    onChange: (newStatusText: string) => void\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst ProfileStatus = ({status, onChange, updateStatus}: ProfileStatusType) => {\r\n    const statusP = useSelector<AppStateType, string>(state => state.profilePage.newStatusText)\r\n    const ownerId = useSelector<AppStateType, number | null>(state => state.auth.userId)\r\n    const profileId = useSelector<AppStateType, number | undefined>(state => state.profilePage.profile?.userId)\r\n    const isOwner = ownerId === profileId\r\n    console.log(ownerId)\r\n    console.log(profileId)\r\n\r\n    useEffect(() => {\r\n        setTitle(statusP)\r\n    }, [statusP])\r\n\r\n    const [title, setTitle] = useState<any>(status);\r\n    const [editMode, setEditMode] = useState<boolean>(false)\r\n\r\n    const activateEditMode = () => {\r\n        if(!isOwner) return\r\n        setEditMode(true)\r\n        setTitle(status)\r\n    }\r\n    const activateViewMode = () => {\r\n        setEditMode(false);\r\n        onChange(title);\r\n        updateStatus(title)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            {editMode ? <input value={title} onChange={onStatusChange} autoFocus onBlur={activateViewMode}/>\r\n                : <span className={s.editableSpan} onDoubleClick={activateEditMode}>{title || \"---\"}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProfileStatus;","import React from \"react\";\r\nimport s from './ProfileInfo.module.css'\r\nimport {ProfileType} from \"../../../Redux/profile-reducer\";\r\nimport {Preloader} from \"../../preloader/preloader\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfileType | null\r\n    setStatus: (newStatusText: string) => void\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nfunction ProfileIfo({profile, setStatus, status, updateStatus}: ProfileInfoPropsType) {\r\n    if (!profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onChangeProfileStatus = (newTextStatus: string) => {\r\n        setStatus(newTextStatus)\r\n    }\r\n    return (\r\n        <>\r\n            {/*<div className={s.wallpaper}>*/}\r\n            {/*    <img*/}\r\n            {/*        src='https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg'*/}\r\n            {/*        width='700px'/>*/}\r\n            {/*</div>*/}\r\n            <div className={s.descriptionBlock}>\r\n                <h3>{profile.fullName}</h3>\r\n                <img src={profile.photos.large} alt={'avatar'}/>\r\n                <ProfileStatus onChange={onChangeProfileStatus} status={status} updateStatus={updateStatus}/>\r\n                <p>{profile.lookingForAJob}</p>\r\n                <a href={'profile.contacts.github'}>{profile.contacts.github}</a>\r\n\r\n                <p>{profile.lookingForAJobDescription}</p>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProfileIfo","import {v1} from \"uuid\";\r\nimport {PhotosType} from \"./usersReducer\";\r\nimport {ThunkAction} from \"redux-thunk/es/types\";\r\nimport {AppStateType} from \"./redux-store\";\r\nimport {usersApi} from \"../api/api\";\r\n\r\nexport type PostType = {\r\n    id: string\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\n\r\nexport type ProfileType = {\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n}\r\n\r\nexport type ProfilePageType = {\r\n    posts: Array<PostType>\r\n    profile: null | ProfileType\r\n    newStatusText: string\r\n}\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {message: 'Hi, how are you?', id: v1(), likesCount: 12},\r\n        {message: 'It s my first pos', id: v1(), likesCount: 9}\r\n    ] as Array<PostType>,\r\n    // newPostText: 'it',\r\n    profile: null,\r\n    newStatusText: ''\r\n}\r\n\r\nexport type InitialStateType = typeof initialState\r\nconst profileReducer = (state: ProfilePageType = initialState, action: ProfileActionsType): ProfilePageType => {\r\n\r\n    switch (action.type) {\r\n        case 'ADD-POST':\r\n            const newPost: PostType = {\r\n                id: v1(),\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {...state, posts: [...state.posts, newPost]}\r\n        case \"SET-USER-PROFILE\":\r\n            return {...state, profile: action.profile}\r\n        case 'SET-STATUS':\r\n            return {...state, newStatusText: action.statusText}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport type ProfileActionsType = ReturnType<typeof addPost>\r\n    | ReturnType<typeof setUserProfile>\r\n    | ReturnType<typeof setStatus>\r\nexport const addPost = (postText: string) => {\r\n    return {\r\n        type: 'ADD-POST',\r\n        newPostText: postText\r\n    } as const\r\n}\r\n\r\n// export const updateNewPostText = (postText: string,) => {\r\n//     return {\r\n//\r\n//         type: 'UPDATE-NEW-POST-TEXT',\r\n//         newText: postText\r\n//     } as const\r\n// }\r\n\r\nexport const setUserProfile = (profile: ProfileType) => {\r\n    return {\r\n        type: 'SET-USER-PROFILE',\r\n        profile,\r\n    } as const\r\n}\r\n\r\nexport const setStatus = (statusText: string) => {\r\n    return {\r\n        type: 'SET-STATUS',\r\n        statusText,\r\n    } as const\r\n}\r\n// thunk\r\nexport const getUserProfile = (userId: string): ThunkAction<Promise<void>, AppStateType, unknown, ProfileActionsType> => {\r\n    return async (dispatch) => {\r\n        usersApi.getProfile(userId)\r\n            .then(response => {\r\n                dispatch(setUserProfile(response.data));\r\n            })\r\n    }\r\n\r\n}\r\nexport const getUserStatus = (userId: string): ThunkAction<Promise<void>, AppStateType, unknown, ProfileActionsType> => {\r\n    return async (dispatch) => {\r\n        usersApi.getProfileStatus(userId)\r\n            .then((res) => {\r\n\r\n                dispatch(setStatus(res.data))\r\n            })\r\n    }\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkAction<Promise<void>, AppStateType, unknown, ProfileActionsType> => {\r\n    return async (dispatch, getState) => {\r\n        usersApi.updateStatus(status)\r\n            .then((res) => {\r\n                if (res.data.resultCode === 0) {\r\n                    const userId = getState().profilePage.profile?.userId\r\n                    userId && dispatch(getUserStatus(userId.toString()))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport default profileReducer","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\nexport type PostType = {\r\n    message: string\r\n    likesCount: number\r\n    id: string\r\n}\r\n\r\nfunction Post(props : PostType) {\r\n    return (\r\n        <div className={s.item}>\r\n            <img\r\n                src='https://dthezntil550i.cloudfront.net/kg/latest/kg1802132010216500004834729/1280_960/557d644f-12f3-49e1-bb66-23c16400540d.png'/>\r\n            {props.message}\r\n            <div className={s.like}><span>like</span><span>{props.likesCount}</span></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport {useFormik} from \"formik\";\r\n\r\n\r\ntype PostFormType = {\r\n    addPost: (value: string) => void\r\n}\r\n\r\n\r\nconst PostForm = (props: PostFormType) => {\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            post: '',\r\n        },\r\n        onSubmit: values => {\r\n            console.log('values', values)\r\n            props.addPost(values.post)\r\n            // props.onSubmit(values.post)\r\n            formik.resetForm()\r\n        }\r\n    })\r\n\r\n    return (\r\n        <form onSubmit={formik.handleSubmit}>\r\n            <FormGroup>\r\n                <TextField\r\n                    style={{width: '160px', marginBottom: '10px'}}\r\n                    id=\"outlined-textarea\"\r\n                    placeholder=\"Enter message\"\r\n                    label='post'\r\n                    multiline\r\n                    {...formik.getFieldProps('post')}\r\n                />\r\n                <Button type={'submit'} style={{width: '60px'}} variant={'contained'} color={'primary'}>\r\n                    Send\r\n                </Button>\r\n            </FormGroup>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PostForm;","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport { ProfilePageType} from \"../../../Redux/profile-reducer\";\r\nimport PostForm from \"./PostForm\";\r\n\r\ntype MyPostsPropsType = {\r\n    profilePage: ProfilePageType\r\n    addPost: (text: string) => void\r\n}\r\n\r\n\r\nfunction MyPosts(props: MyPostsPropsType) {\r\n\r\n    const postsElements = props.profilePage.posts.map(p => <Post key={p.id} message={p.message} likesCount={p.likesCount} id={p.id}/>)\r\n\r\n    const addPost = (value: string) => {\r\n            props.addPost(value)\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <div>\r\n                <PostForm addPost={addPost}/>\r\n                {/*<div>*/}\r\n                {/*   */}\r\n                {/*    <textarea*/}\r\n                {/*        onChange={onPostChange}*/}\r\n                {/*        value={props.profilePage.newPostText}*/}\r\n                {/*        ref={newPostElement}>*/}\r\n                {/*    </textarea>*/}\r\n                {/*</div>*/}\r\n                {/*<div>*/}\r\n                {/*    <button onClick={addPost}>Add post</button>*/}\r\n                {/*</div>*/}\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts","import React from 'react'\r\nimport {addPost, InitialStateType, ProfilePageType} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/redux-store\";\r\n\r\ntype mapStateToPropsType = {\r\n    profilePage: ProfilePageType\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost,})(MyPosts)\r\n\r\nexport default MyPostsContainer","import React from \"react\";\r\nimport s from './profile.module.css'\r\nimport ProfileIfo from \"./ProfileInfo/ProfileIfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../Redux/profile-reducer\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    setStatus: (newStatusText: string) => void\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\nfunction Profile({profile, setStatus, status, updateStatus}: ProfilePropsType) {\r\n\r\n    return (\r\n        <main className={s.profile}>\r\n            <ProfileIfo profile={profile}\r\n                        setStatus={setStatus}\r\n                        status={status}\r\n                        updateStatus={updateStatus}\r\n            />\r\n            <MyPostsContainer/>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, {Component, ComponentType} from \"react\";\r\nimport s from './profile.module.css'\r\nimport Profile from \"./profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    ProfileType,\r\n    setStatus,\r\n    setUserProfile,\r\n    updateStatus\r\n} from \"../../Redux/profile-reducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype ProfileContainerType = MapStateToPropsType & MapDispatchPropsType\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfileContainerType\r\n\r\nclass ProfileContainer extends Component<PropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            if(this.props.userId) {\r\n                userId = this.props.userId.toString();\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <main className={s.profile}>\r\n                <Profile\r\n                    {...this.props}\r\n                    profile={this.props.profile}\r\n                    setStatus={this.props.setStatus}\r\n                    status={this.props.newStatusText}\r\n                    updateStatus={this.props.updateStatus}\r\n                />\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    profile: null | ProfileType\r\n    newStatusText: string\r\n    userId: number | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    setUserProfile: (profile: ProfileType) => void\r\n    getUserProfile: (userId: string) => void\r\n    setStatus: (newStatusText: string) => void\r\n    getUserStatus: (userId: string) => void\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        newStatusText: state.profilePage.newStatusText,\r\n        userId: state.auth.userId\r\n    }\r\n}\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapStateToProps, {setUserProfile, getUserProfile, getUserStatus, updateStatus, setStatus}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)\r\n(ProfileContainer)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styles from \"./Header.module.css\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\n\r\ntype PropsType = {\r\n    onLogout: () => void\r\n}\r\n\r\nfunction Header({onLogout}: PropsType) {\r\n    const login = useSelector<AppStateType, string | null>(state => state.auth.login)\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n    return (\r\n\r\n        <header className={styles.header}>\r\n            <div className={styles.wrapper}>\r\n                <img src='https://image.shutterstock.com/image-vector/dots-letter-c-logo-design-260nw-551769190.jpg'/>\r\n                <h2>MySocial</h2>\r\n                <div className={styles.loginBlock}>\r\n                    {isAuth ? login : <NavLink to={'/login'}/>}\r\n                    {isAuth && <button onClick={onLogout}>logout</button>}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authApi, LoginParamsType} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\nimport {ThunkAction} from \"redux-thunk/es/types\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\nexport type initialStateAuthType = {\r\n    userId: number | null\r\n    email: string | null\r\n    login: string | null\r\n    isAuth: boolean\r\n    isInitialised: boolean\r\n    isLoggedIn: boolean\r\n}\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isInitialised: false,\r\n    isLoggedIn: false\r\n}\r\nexport const authReducer = (state: initialStateAuthType = initialState, action: ActionAuthType) => {\r\n    switch (action.type) {\r\n        case 'SET-USER-DATA':\r\n            return {...state, ...action.data, isAuth: true}\r\n        case 'SET-INITIALIZED':\r\n            return {...state, isInitialised: action.initialized}\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\ntype ActionAuthType = ReturnType<typeof setAuthUserData> | SetInitializedType\r\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null) => {\r\n    return {\r\n        type: 'SET-USER-DATA',\r\n        data: {userId, email, login}\r\n    } as const\r\n}\r\n\r\nexport const setInitialized = (initialized: boolean) => ({type: 'SET-INITIALIZED', initialized} as const)\r\ntype SetInitializedType = ReturnType<typeof setInitialized>\r\n\r\nexport const getAuthUserData = () => (dispatch: Dispatch<ActionAuthType>) => {\r\n    authApi.me()\r\n        .then(data => {\r\n            if (data.resultCode === 0) {\r\n                let {id, login, email} = data.data\r\n                dispatch(setAuthUserData(id, email, login))\r\n            }\r\n        })\r\n}\r\n\r\nexport const login = (data: LoginParamsType): ThunkAction<Promise<void>, AppStateType, unknown, ActionAuthType> => {\r\n    return async (dispatch) => {\r\n        authApi.login(data)\r\n            .then(res => {\r\n                if (res.data.resultCode === 0) {\r\n                    dispatch(setInitialized(true))\r\n                    dispatch(getAuthUserData())\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const logout = () => (dispatch: Dispatch<ActionAuthType>)=> {\r\n    authApi.logout()\r\n        .then(res => {\r\n            if(res.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null))\r\n            }\r\n        })\r\n}","import React, {useEffect} from 'react';\r\nimport Header from \"./Header\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {getAuthUserData, logout} from \"../../Redux/auth-reducer\";\r\n\r\nfunction HeaderContainer() {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch(getAuthUserData())\r\n    }, [])\r\n\r\n    const handleLogout = ()=> {\r\n        dispatch(logout())\r\n    }\r\n    return (\r\n        <Header onLogout={handleLogout}/>\r\n    )\r\n}\r\n\r\nexport default HeaderContainer;","import React from 'react'\r\nimport Grid from '@mui/material/Grid';\r\nimport Checkbox from '@mui/material/Checkbox';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport {FormikErrors, useFormik} from \"formik\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\n\r\n\r\ntype FormikErrorType = {\r\n    email?: string\r\n    password?: string\r\n    rememberMe?: boolean\r\n}\r\n\r\nconst LoginForm = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n            rememberMe: false\r\n        },\r\n        validate: (values) => {\r\n            const errors: FormikErrorType = {};\r\n            if (!values.email) {\r\n                errors.email = 'Required';\r\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n                errors.email = 'Invalid email address';\r\n            }\r\n            if (!values.password) {\r\n                errors.password = 'Required';\r\n            } else if (values.password.length < 3) {\r\n                errors.password = 'Must be 3 characters or more'\r\n            }\r\n            return errors;\r\n\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(login(values))\r\n            //alert(JSON.stringify(values, null, 2));\r\n            formik.resetForm()\r\n        }\r\n    })\r\n\r\n    return <div style={{marginLeft: '20px'}}>\r\n        <Grid container justifyContent={'center'}>\r\n            <Grid item justifyContent={'center'}>\r\n                <form onSubmit={formik.handleSubmit} action=\"\">\r\n                    <FormControl>\r\n                        <FormLabel>\r\n                            <p>To log in get registered\r\n                                <a href={'https://social-network.samuraijs.com/'}\r\n                                   target={'_blank'}> here\r\n                                </a>\r\n                            </p>\r\n                            <p>or use common test account credentials:</p>\r\n                            <p>Email: free@samuraijs.com</p>\r\n                            <p>Password: free</p>\r\n                        </FormLabel>\r\n                        <FormGroup>\r\n                            <TextField\r\n                                label=\"Email\"\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('email')}\r\n                            />\r\n                            {formik.touched.email && formik.errors.email ?\r\n                                <div style={{color: 'red'}}>{formik.errors.email}</div> : null}\r\n                            <TextField\r\n                                type=\"password\"\r\n                                label=\"Password\"\r\n                                margin=\"normal\"\r\n                                {...formik.getFieldProps('password')}\r\n                            />\r\n                            {formik.touched.password && formik.errors.password &&\r\n                            <div style={{color: 'red'}}>{formik.errors.password}</div>}\r\n                            <FormControlLabel label={'Remember me'}\r\n                                              control={<Checkbox{...formik.getFieldProps('rememberMe')}\r\n                                              />}/>\r\n                            <Button type={'submit'} variant={'contained'} color={'primary'}>\r\n                                Login\r\n                            </Button>\r\n\r\n                        </FormGroup>\r\n                    </FormControl>\r\n                </form>\r\n            </Grid>\r\n        </Grid>\r\n\r\n    </div>\r\n};\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nconst Login = () => {\r\n    return (\r\n        <div style={{marginLeft: '20px'}}>\r\n          <h1>Login</h1>\r\n           <LoginForm/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import React from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport {Route} from \"react-router-dom\";\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\n\n\nfunction App() {\n    return (\n        <div className= 'app-wrapper'>\n            <HeaderContainer/>\n            <div className='app-wrapper-content'>\n                <Navbar/>\n                <Route\n                    path='/dialogs'\n                    render={() => <DialogsContainer/>}\n                />\n                <Route\n                    path='/profile/:userId?'\n                    render={() => <ProfileContainer/>}\n                />\n                <Route\n                    path='/login'\n                    render={() => <Login/>}\n                />\n                <Route path='/news' component={News}/>\n                <Route path='/music' component={Music}/>\n                <Route path='/users' render={() => <UsersContainer/>}/>\n                <Route path='/settings' component={Settings}/>\n            </div>\n        </div>\n\n    );\n}\n\nexport default App;\n","import {SidebarType} from \"./store\";\r\nconst initialState = {}\r\nconst sidebarReducer = (state: SidebarType = initialState, action: any) => {\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport const rootReducer = combineReducers({\r\n   profilePage: profileReducer,\r\n    dialogsPage:dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\nlet store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\nexport default store","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {HashRouter} from \"react-router-dom\";\nimport store from \"./Redux/redux-store\"\nimport {Provider} from \"react-redux\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App\n                />\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__35ccc\",\"item\":\"Navbar_item__IOJZa\",\"active\":\"Navbar_active__3nyO4\",\"friends\":\"Navbar_friends__1QgSc\",\"friendsItems\":\"Navbar_friendsItems__2-KcU\",\"friendsItem\":\"Navbar_friendsItem__3hZ0s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3TQOc\",\"dialogsItems\":\"Dialogs_dialogsItems__HS4B4\",\"dialogsItem\":\"Dialogs_dialogsItem__5fELn\",\"active\":\"Dialogs_active__sQU6i\",\"messages\":\"Dialogs_messages__3f0rE\",\"message\":\"Dialogs_message__3zIrT\",\"inputMessage\":\"Dialogs_inputMessage__ki8y9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__3svca\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2n9yf\",\"wallpaper\":\"ProfileInfo_wallpaper__1OAQn\",\"editableSpan\":\"ProfileInfo_editableSpan__WdHQx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3mnLE\",\"wrapper\":\"Header_wrapper__iefuz\",\"loginBlock\":\"Header_loginBlock__2wzDU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo\":\"users_photo__1I7zh\",\"selectedPage\":\"users_selectedPage__2MbZi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__UjDZG\",\"posts\":\"MyPosts_posts__1_VbO\",\"item\":\"MyPosts_item__3ZvYM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3o8Bu\",\"like\":\"Post_like__3lxrw\"};"],"sourceRoot":""}